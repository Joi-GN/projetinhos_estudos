<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas Animation</title>
</head>

<body>
    <div>
        <h1>Bolinhas deslizando</h1>
        <canvas class="desliza" width="600" height="400"></canvas>    
    </div>

    <div>
        <h1>Bolinha pulsando</h1>
        <canvas class="pulsando" width="600" height="400"></canvas>    
    </div>
    
    <script>

        (function bolinhasDeslizando() {
            const canvas = document.querySelector('.desliza');
            const pincel = canvas.getContext('2d');
            let x = 20;

            pincel.strokeRect(0, 0, 600, 400);

            let volta = false;

            function desenhaCirculo(x, y, raio, cor) {
                pincel.fillStyle = cor;
                pincel.beginPath();
                pincel.arc(x, y, raio, 0, 2 * Math.PI);
                pincel.fill();
            }

            function limpaTela() {
                pincel.clearRect(0, 0, 600, 400);
                pincel.strokeRect(0, 0, 600, 400);
            }

            function atualizaTela() {
                limpaTela();
                desenhaCirculo(x, 20, 10, 'red');
                desenhaCirculo(x, 40, 10, 'orange');
                desenhaCirculo(x, 60, 10, 'yellow');
                desenhaCirculo(x, 80, 10, 'green');
                desenhaCirculo(x, 100, 10, 'cyan');
                desenhaCirculo(x, 120, 10, 'blue');
                desenhaCirculo(x, 140, 10, 'purple');

                if (x == 580) {
                    volta = true;
                } else if (!volta) {
                    x++;
                }

                if (x == 20) {
                    volta = false;
                } else if (volta) {
                    x--;
                }
            }

            //solução do prof para fazer a bolinha ir e voltar
            //     var sentido = 1;

            //     if( x > 600) {
            //         sentido = -1;
            //     } else if (x < 0) {
            //         sentido = 1;
            //     } 

            //     desenhaCirculo(x, 20, 10);
            //     x = x + sentido;

            setInterval(atualizaTela, 10);
        })();

        (function bolinhaPulsando() {
            const canvas = document.querySelector('.pulsando');
            const pincel = canvas.getContext('2d');
            let raio = 20;

            pincel.strokeRect(0, 0, 600, 400);

            function desenhaCirculo(x, y, raio, cor) {
                pincel.fillStyle = cor;
                pincel.beginPath();
                pincel.arc(x, y, raio, 0, 2 * Math.PI);
                pincel.fill();
            }

            function limpaTela() {
                pincel.clearRect(0, 0, 600, 400);
                pincel.strokeRect(0, 0, 600, 400);
            }

            let fatorCrescimento = 1;

            function atualizaTela() {
                limpaTela();
                desenhaCirculo(300, 200, raio, 'red');

                if(raio > 30){
                    fatorCrescimento = -1;
                }else if(raio < 20){
                    fatorCrescimento = 1;
                }

                 raio = raio + fatorCrescimento;
                
            }

            setInterval(atualizaTela,20);
        })();

    </script>
</body>

</html>